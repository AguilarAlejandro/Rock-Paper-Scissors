<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="Cuadro">
        <input type=button onClick="bgaudio()" value='Press to play' id="BotonInicio">
       
    </div>
    <br>
    
    <div class="Cuadro">
    <div>
        <h1>Player selection</h1>
        <div id="playerDiv">
            <input type=button onclick="game(audio,'ROCK',computerSelect)" id="pRockImg" class="Picture">
            <input type=button onClick="game(audio,'SCISSORS',computerSelect)" id="pScissorsImg" class="Picture">
            <input type=button onClick="game(audio,'PAPER',computerSelect)" id="pPaperImg" class="Picture">
            
        </div>
    </div>
    <div>
        <h1>Computer selection</h1>
    <div id="computerDiv">
        <img src="images/rock.jpg" alt="Rock" id="cRockImg" class="PictureC">
        <img src="images/scissors.jpg" alt="Scissors" id="cScissorsImg" class="PictureC">
        <img src="images/paper.jpg" alt="Paper" id="cPaperImg" class="PictureC">
    </div>
    </div>
    </div>

    <script>                 
            function computerPlay(possibleValues){
            var computerSel=values[Math.floor(Math.random()*3)]; // 3 is the length of the values array
            console.log("Computer chose ", computerSel);
            return computerSel
        }

        function game(audio, playerSelect, computerSelect){
            var win;
            var playerRock=document.getElementById("pRockImg");
            var playerScissors=document.getElementById("pScissorsImg");
            var playerPaper=document.getElementById("pPaperImg");
            var computerRock=document.getElementById("cRockImg");
            var computerPaper=document.getElementById("cPaperImg");
            var computerScissors=document.getElementById("cScissorsImg");
            console.log("Player chose ", playerSelect);
           
            if (playerSelect=="ROCK"){
                playerRock.style.opacity = 1;
                if (computerSelect=="PAPER"){
                    computerPaper.style.opacity = 1;
                    computerPaper.style.scale = 1.3;
                    win="Computer";
                }
                else{
                    if (computerSelect=="SCISSORS"){
                        computerScissors.style.opacity = 1;
                        computerScissors.style.scale = 1.3;
                        win="Player";
                    }
                    if (computerSelect=="ROCK"){
                        computerRock.style.opacity = 1;
                        computerRock.style.scale = 1.3;
                        win="tied";
                    }    
                }
            }
            if (playerSelect=="PAPER"){
                playerPaper.style.opacity = 1;
                if (computerSelect=="PAPER"){
                    computerPaper.style.opacity = 1;
                    computerPaper.style.scale = 1.3;
                    win="tied";
                }
                else{
                    if (computerSelect=="SCISSORS"){
                        computerScissors.style.opacity = 1;
                        computerScissors.style.scale = 1.3;
                        win="Computer";
                    }
                    if (computerSelect=="ROCK"){
                        computerRock.style.opacity = 1;
                        computerRock.style.scale = 1.3;
                        win="Player";
                    }    
                } 
            }
            if (playerSelect=="SCISSORS"){
                playerScissors.style.opacity = 1;
                if (computerSelect=="PAPER"){
                    computerPaper.style.opacity = 1;
                    computerPaper.style.scale = 1.3;
                    win="Player";
                }
                else{
                    if (computerSelect=="SCISSORS"){
                        computerScissors.style.opacity = 1;
                        computerScissors.style.scale = 1.3;
                        win="tied";
                    }
                    if (computerSelect=="ROCK"){
                        computerRock.style.opacity = 1;
                        computerRock.style.scale = 1.3;
                        win="Computer";
                    } 
            }
        }
        if (win=="tied"){
        console.log("Game was tied");
        }
        if (win=="Player"){
        console.log("Player is obviously smarter, HE WINS!");
        audio.volume=0.1;
        var audio = document.createElement('audio'); audio.id = 'audio';
        audio.src = 'audio/owvictory.mp3'; 
        document.body.appendChild(audio);
        audio.play();
        audio.onended = function(){
        window.location.reload(true);
        }
        }
        if (win=="Computer"){
        console.log("PC Supremacy is real.... Computer wins");
        audio.volume=0.1;
        var audio = document.createElement('audio'); audio.id = 'audio';
        audio.src = 'audio/owdefeat.mp3'; 
        document.body.appendChild(audio);
        audio.play();
        audio.onended = function(){
        window.location.reload(true);
        }
        }
               
        }

        function bgaudio(){
        var audio = document.createElement('audio'); audio.id = 'audio';
        audio.src = 'audio/bgmusic.mp3'; 
        document.body.appendChild(audio);
        audio.play();
        return audio
        }
    const values=["ROCK", "PAPER", "SCISSORS"];
    var computerSelect=computerPlay(values);
              
    </script>
    
</body>
</html>